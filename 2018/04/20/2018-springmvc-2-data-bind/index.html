<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>springmvc:数据绑定(JSP版) | 余思博客</title><meta name="description" content="springmvc:数据绑定(JSP版)"><meta name="keywords" content="springmvc"><meta name="author" content="余思"><meta name="copyright" content="余思"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="springmvc:数据绑定(JSP版)"><meta name="twitter:description" content="springmvc:数据绑定(JSP版)"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content="springmvc:数据绑定(JSP版)"><meta property="og:url" content="http://envyzhan.top/2018/04/20/2018-springmvc-2-data-bind/"><meta property="og:site_name" content="余思博客"><meta property="og:description" content="springmvc:数据绑定(JSP版)"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://envyzhan.top/2018/04/20/2018-springmvc-2-data-bind/"><link rel="prev" title="springmvc:RESTful入门" href="http://envyzhan.top/2018/04/21/2018-springmvc-3-restful/"><link rel="next" title="springmvc:SpringMVC入门" href="http://envyzhan.top/2018/04/18/2018-springmvc-1-quick/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js" defer></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"cookieDomain":"https://envythink.cn/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: 余思","link":"链接: http://envyzhan.top/2018/04/20/2018-springmvc-2-data-bind/","source":"来源: 余思博客","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><canvas class="fireworks"></canvas><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">余思博客</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-html5" aria-hidden="true"></i><span> 前端</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/html/"><i class="fa-fw fa fa-cog"></i><span> HTML/CSS</span></a></li><li><a class="site-page" href="/categories/javascript/"><i class="fa-fw fa fa-cogs"></i><span> JavaScript</span></a></li><li><a class="site-page" href="/categories/vuejs/"><i class="fa-fw fa fa-certificate"></i><span> Vue.js</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> Java</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/java/"><i class="fa-fw fa fa-book"></i><span> Java</span></a></li><li><a class="site-page" href="/categories/ssm/"><i class="fa-fw fa fa-cube"></i><span> SSM</span></a></li><li><a class="site-page" href="/categories/springboot/"><i class="fa-fw fa fa-cubes"></i><span> SpringBoot</span></a></li><li><a class="site-page" href="/categories/springcloud/"><i class="fa-fw fa fa-cloud"></i><span> SpringCloud</span></a></li><li><a class="site-page" href="/categories/springsecurity/"><i class="fa-fw fa fa-bullseye"></i><span> SpringSecurity</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 运维</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/pythonbase/"><i class="fa-fw fa fa-book"></i><span> Python</span></a></li><li><a class="site-page" href="/categories/go/"><i class="fa-fw fa fa-google-plus"></i><span> Golang</span></a></li><li><a class="site-page" href="/categories/devops/"><i class="fa-fw fa fa-road"></i><span> DevOps</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 中间件</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/mysql/"><i class="fa-fw fa fa-database"></i><span> MySQL</span></a></li><li><a class="site-page" href="/categories/nginx/"><i class="fa-fw fa fa-location-arrow"></i><span> Nginx</span></a></li><li><a class="site-page" href="/categories/redis/"><i class="fa-fw fa fa-random"></i><span> Redis</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-bell" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/datastructs/"><i class="fa-fw fa fa-plug"></i><span> 数据结构</span></a></li><li><a class="site-page" href="/categories/algorithm/"><i class="fa-fw fa fa-plane"></i><span> 算法建模</span></a></li><li><a class="site-page" href="/categories/tools/"><i class="fa-fw fa fa-hourglass"></i><span> 实用工具</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-address-book" aria-hidden="true"></i><span> 生活</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/onenote/"><i class="fa-fw fa fa-laptop"></i><span> 个人随笔</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">213</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">16</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">15</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-html5" aria-hidden="true"></i><span> 前端</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/html/"><i class="fa-fw fa fa-cog"></i><span> HTML/CSS</span></a></li><li><a class="site-page" href="/categories/javascript/"><i class="fa-fw fa fa-cogs"></i><span> JavaScript</span></a></li><li><a class="site-page" href="/categories/vuejs/"><i class="fa-fw fa fa-certificate"></i><span> Vue.js</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> Java</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/java/"><i class="fa-fw fa fa-book"></i><span> Java</span></a></li><li><a class="site-page" href="/categories/ssm/"><i class="fa-fw fa fa-cube"></i><span> SSM</span></a></li><li><a class="site-page" href="/categories/springboot/"><i class="fa-fw fa fa-cubes"></i><span> SpringBoot</span></a></li><li><a class="site-page" href="/categories/springcloud/"><i class="fa-fw fa fa-cloud"></i><span> SpringCloud</span></a></li><li><a class="site-page" href="/categories/springsecurity/"><i class="fa-fw fa fa-bullseye"></i><span> SpringSecurity</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 运维</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/pythonbase/"><i class="fa-fw fa fa-book"></i><span> Python</span></a></li><li><a class="site-page" href="/categories/go/"><i class="fa-fw fa fa-google-plus"></i><span> Golang</span></a></li><li><a class="site-page" href="/categories/devops/"><i class="fa-fw fa fa-road"></i><span> DevOps</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 中间件</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/mysql/"><i class="fa-fw fa fa-database"></i><span> MySQL</span></a></li><li><a class="site-page" href="/categories/nginx/"><i class="fa-fw fa fa-location-arrow"></i><span> Nginx</span></a></li><li><a class="site-page" href="/categories/redis/"><i class="fa-fw fa fa-random"></i><span> Redis</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-bell" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/datastructs/"><i class="fa-fw fa fa-plug"></i><span> 数据结构</span></a></li><li><a class="site-page" href="/categories/algorithm/"><i class="fa-fw fa fa-plane"></i><span> 算法建模</span></a></li><li><a class="site-page" href="/categories/tools/"><i class="fa-fw fa fa-hourglass"></i><span> 实用工具</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-address-book" aria-hidden="true"></i><span> 生活</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/categories/onenote/"><i class="fa-fw fa fa-laptop"></i><span> 个人随笔</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-comment"></i><span> 留言</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#SpringMVC数据绑定流程原理"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">SpringMVC数据绑定流程原理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#SpringMVC常用的数据绑定类型"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">SpringMVC常用的数据绑定类型</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#基本数据类型"><span class="toc_mobile_items-number">2.0.1.</span> <span class="toc_mobile_items-text">基本数据类型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#包装类类型"><span class="toc_mobile_items-number">2.0.2.</span> <span class="toc_mobile_items-text">包装类类型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#数组类型"><span class="toc_mobile_items-number">2.0.3.</span> <span class="toc_mobile_items-text">数组类型</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#对象及多层级对象"><span class="toc_mobile_items-number">2.0.4.</span> <span class="toc_mobile_items-text">对象及多层级对象</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#main"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">添加课程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#null"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">课程管理</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#List"><span class="toc_mobile_items-number">4.0.1.</span> <span class="toc_mobile_items-text">List</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#main"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">添加课程</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Map"><span class="toc_mobile_items-number">5.0.1.</span> <span class="toc_mobile_items-text">Map</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Set"><span class="toc_mobile_items-number">5.0.2.</span> <span class="toc_mobile_items-text">Set</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#JSON格式"><span class="toc_mobile_items-number">5.0.3.</span> <span class="toc_mobile_items-text">JSON格式</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringMVC数据绑定流程原理"><span class="toc-number">1.</span> <span class="toc-text">SpringMVC数据绑定流程原理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringMVC常用的数据绑定类型"><span class="toc-number">2.</span> <span class="toc-text">SpringMVC常用的数据绑定类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本数据类型"><span class="toc-number">2.0.1.</span> <span class="toc-text">基本数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#包装类类型"><span class="toc-number">2.0.2.</span> <span class="toc-text">包装类类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组类型"><span class="toc-number">2.0.3.</span> <span class="toc-text">数组类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象及多层级对象"><span class="toc-number">2.0.4.</span> <span class="toc-text">对象及多层级对象</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#main"><span class="toc-number">3.</span> <span class="toc-text">添加课程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#null"><span class="toc-number">4.</span> <span class="toc-text">课程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#List"><span class="toc-number">4.0.1.</span> <span class="toc-text">List</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#main"><span class="toc-number">5.</span> <span class="toc-text">添加课程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Map"><span class="toc-number">5.0.1.</span> <span class="toc-text">Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set"><span class="toc-number">5.0.2.</span> <span class="toc-text">Set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON格式"><span class="toc-number">5.0.3.</span> <span class="toc-text">JSON格式</span></a></li></ol></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">springmvc:数据绑定(JSP版)</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-04-20</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/ssm/">ssm</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">3.5k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 12 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2018/04/20/2018-springmvc-2-data-bind/#post-comment"><span class="gitalk-comment-count comment-count"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><html><head></head><body><p>接下来学习SpringMVC的数据绑定，本篇主要介绍SpringMVC数据绑定的原理及如何使用。那么什么是数据绑定呢？如果之前学过Vue等框架时，就应该不陌生了，但是可能此处的效果和Vue中的有些区别。此处的数据绑定是指：<strong>将Http请求中的参数绑定到Handler业务方法中作为参数。</strong></p>
<p>在没有接触SpringMVC之前，你还会发现servlet中的doGet或者doPost方法中都会有httpRequest和httpResponse，同时由于从request中获取的数据类型都是String类型，因此如果需要获取Integer类型，还需要进一步的转换。遇到前台form表单的时候，需要借助于<code>request.getParameter("name属性值")</code>来逐一获取信息，然后在业务方法中将这些参数封装成一个对象，其实这个过程挺复杂的。</p>
<p>在入门章节里面就说明使用SpringMVC，只需在业务方法中定义对应的形参即可（如需要获取Integer类型的Id，只需在形参中定义Integer类型的Id即可），SpringMVC会自动将httpRequest请求中的参数取出来并绑定到业务方法的形参当中。</p>
<h1 id="SpringMVC数据绑定流程原理"><a href="#SpringMVC数据绑定流程原理" class="headerlink" title="SpringMVC数据绑定流程原理"></a>SpringMVC数据绑定流程原理</h1><h1 id="SpringMVC常用的数据绑定类型"><a href="#SpringMVC常用的数据绑定类型" class="headerlink" title="SpringMVC常用的数据绑定类型"></a>SpringMVC常用的数据绑定类型</h1><p>SpringMVC常用的数据绑定类型包括：基本数据类型、包装类、数组、对象、集合(List/Set/Map)以及JSON。接下来通过代码的方式分别介绍各种数据类型应当如何绑定，使用Maven新建一个webapp项目，名称为<code>springmvc_databind</code>。第一步，配置pom.xml：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><dependencies></dependencies></span><br><span class="line">   <!--springmvc相关--></span><br><span class="line">   <dependency></dependency></span><br><span class="line">     <groupid>org.springframework</groupid></span><br><span class="line">     <artifactid>spring-webmvc</artifactid></span><br><span class="line">     <version>4.3.9.RELEASE</version></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">   <!--servlet相关--></span><br><span class="line">   <dependency></dependency></span><br><span class="line">     <groupid>javax.servlet</groupid></span><br><span class="line">     <artifactid>javax.servlet-api</artifactid></span><br><span class="line">     <version>3.1.0</version></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">   <!--jstl标签库--></span><br><span class="line">   <dependency></dependency></span><br><span class="line">     <groupid>jstl</groupid></span><br><span class="line">     <artifactid>jstl</artifactid></span><br><span class="line">     <version>1.2</version></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">   <!--Junit测试--></span><br><span class="line">   <dependency></dependency></span><br><span class="line">     <groupid>junit</groupid></span><br><span class="line">     <artifactid>junit</artifactid></span><br><span class="line">     <version>4.11</version></span><br><span class="line">     <scope>test</scope></span><br><span class="line">   </span><br><span class="line"> </span><br></pre></td></tr></tbody></table></figure></div>
<p>第二步，配置web.xml文件：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><web-app></web-app></span><br><span class="line">  <display-name>Archetype Created Web Application</display-name></span><br><span class="line">  <!--处理中文乱码--></span><br><span class="line">  <filter></filter></span><br><span class="line">    <filter-name>encodingFilter</filter-name></span><br><span class="line">    <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class></span><br><span class="line">    <!--设置初始化的字符集编码格式--></span><br><span class="line">    <init-param></init-param></span><br><span class="line">      <param-name>encoding</param-name></span><br><span class="line">      <param-value>UTF-8</param-value></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <init-param></init-param></span><br><span class="line">      <param-name>forceEncoding</param-name></span><br><span class="line">      <param-value>true</param-value></span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">  <filter-mapping></filter-mapping></span><br><span class="line">    <filter-name>encodingFilter</filter-name></span><br><span class="line">    <url-pattern>/*</url-pattern></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <!--让SpringMVC放开css访问控制，设置访问静态资源--></span><br><span class="line">  <servlet-mapping></servlet-mapping></span><br><span class="line">    <servlet-name>default</servlet-name></span><br><span class="line">    <url-pattern>*.css</url-pattern></span><br><span class="line">  </span><br><span class="line">  <!--让SpringMVC放开js访问控制，设置访问静态资源--></span><br><span class="line">  <servlet-mapping></servlet-mapping></span><br><span class="line">    <servlet-name>default</servlet-name></span><br><span class="line">    <url-pattern>*.js</url-pattern></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <!--所有的请求都会被SpringMVC进行拦截--></span><br><span class="line">  <servlet></servlet></span><br><span class="line">    <servlet-name>SpringMVC</servlet-name></span><br><span class="line">    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class></span><br><span class="line">    <!--配置SpringMVC文件所在的位置--></span><br><span class="line">    <init-param></init-param></span><br><span class="line">      <param-name>contextConfigLocation</param-name></span><br><span class="line">      <param-value>classpath:springmvc.xml</param-value></span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <servlet-mapping></servlet-mapping></span><br><span class="line">    <servlet-name>SpringMVC</servlet-name></span><br><span class="line">    <url-pattern>/</url-pattern></span><br><span class="line">  </span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>
<p>第三步，配置springmvc.xml文件：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><!--?xml version="1.0" encoding="UTF-8"?--></span><br><span class="line"><beans xmlns="http://www.springframework.org/schema/beans" < span><br><span class="line">       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</span><br><span class="line">       xmlns:context="http://www.springframework.org/schema/context"</span><br><span class="line">       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"></span><br><span class="line"></span><br><span class="line">    <!--开启包自动扫描--></span><br><span class="line">    <context:component-scan base-package="com.envy"></context:component-scan></span><br><span class="line"></span><br><span class="line">    <!--配置视图解析器--></span><br><span class="line">    <bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"></bean></span><br><span class="line">        <!--配置前缀--></span><br><span class="line">        <property name="prefix" value="/"></property></span><br><span class="line">        <!--配置后缀--></span><br><span class="line">        <property name="suffix" value=".jsp"></property></span><br><span class="line">    </span><br><span class="line"></span></beans></span><br></pre></td></tr></tbody></table></figure></div>
<p>第四步，新建对应的文件夹，如图所示：</p>
<p><a href="https://upload-images.jianshu.io/upload_images/8964398-494649a42f3dc5ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title class="mediumZoom lazyload" data-src="https://upload-images.jianshu.io/upload_images/8964398-494649a42f3dc5ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></a></p>
<h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p>基本数据类型以int类型为例，在controller包中新建一个<code>DataBindController</code>类，接着定义一个<code>baseType</code>方法(在里面使用了<code>@ResponseBody</code>这个注解就是将返回的对象转换为json格式的字符串，并通过response响应给客户端)：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">public class DataBindController {</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private CourseDao courseDao;</span><br><span class="line"></span><br><span class="line">    //基本数据类型，以int为例</span><br><span class="line">    @RequestMapping(value = "/baseType")</span><br><span class="line">    @ResponseBody  //@ResponseBody这个注解就是将返回的对象转换为json格式的字符串，并通过response响应给客户端</span><br><span class="line">    public String baseType(@RequestParam(value = "id")int id){</span><br><span class="line">        return "this baseType id is "+id;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>然后运行项目，在浏览器地址栏中输入<code>http://localhost:8080/baseType？id=1</code>，你会发现页面显示<code>this baseType id is 1</code>；注意参数只能是int类型，如果传入<code>id="abc"</code>，访问<code>http://localhost/baseType?id=abc</code>，会报400参数异常； 还有当设置参数为int类型时，那么key是必传的，如果不传入，访问<code>http://localhost:8080/baseType?id</code>，会报500内部错误异常。</p>
<h3 id="包装类类型"><a href="#包装类类型" class="headerlink" title="包装类类型"></a>包装类类型</h3><p>包装类类型以Integer类型为例，新建<code>packageType</code>方法：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//包装类,以Integer为例</span><br><span class="line">@RequestMapping(value = "/packageType")</span><br><span class="line">@ResponseBody</span><br><span class="line">public String packageType(@RequestParam(value = "id")Integer id){</span><br><span class="line">    return "this packageType id is "+id;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>然后运行项目，在浏览器地址栏中输入<code>http://localhost:8080/packageType？id=1</code>，你会发现页面显示<code>this packageType id is 1</code>；注意参数只能是int类型，如果传入<code>id="abc"</code>，访问<code>http://localhost/packageType?id=abc</code>，会报400参数异常； 还有当设置参数为Integer类型时，那么key是可以不传的，如果不传入,访问<code>http://localhost:8080/packageType?id</code>，页面显示<code>this packageType id is nul</code>。因为包装类本质上是一个对象，对于可能为空的数据，最好使用包装类型。<strong>还有一点就是int型的默认值为0，Integer的默认值为null，如果数据库某字段允许NULL值，使用int型的话，存入的是0而不是NULL。</strong></p>
<h3 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h3><p>数组类型，以String类型的数组为例，新建<code>arrayType</code>方法：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> //数组类型，以String类型的数组为例</span><br><span class="line">@RequestMapping(value = "/arrayType")</span><br><span class="line">@ResponseBody</span><br><span class="line">public String arrayType(String[] name){  //此处的name即为参数的名称</span><br><span class="line">    StringBuffer stringBuffer = new StringBuffer();</span><br><span class="line">    for(String item:name) {</span><br><span class="line">        stringBuffer.append(item).append(" ");</span><br><span class="line">    }</span><br><span class="line">    return stringBuffer.toString();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>本方法就是将name数组中的信息依次添加到一个新的字符串中，然后运行项目，在浏览器地址栏中输入<code>http://localhost:8080/arrayType?name=zhangsan&name=lisi</code>，你会发现页面显示<code>zhangsan lisi</code>；注意此处必须是name为键的键值对。SpringMVC可以将同一个字段key的多个值映射到一个数组中，那自然也能映射到List中。将参数<code>String[] name</code>改成<code>List<string> name</string></code>，完全没问题。</p>
<h3 id="对象及多层级对象"><a href="#对象及多层级对象" class="headerlink" title="对象及多层级对象"></a>对象及多层级对象</h3><p>对象以及多层级对象比前面的稍微复杂一些，我们以讲师和课程为例进行介绍。第一步，在entity包中新建<code>Course.java</code>和<code>Author.java</code>文件：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">**************Course.java***********</span><br><span class="line">    private int id;</span><br><span class="line">    private String name;</span><br><span class="line">    private double price;</span><br><span class="line">    private Author author;</span><br><span class="line">    //setter和getter方法</span><br><span class="line">**************Author.java***********</span><br><span class="line">    private int id;</span><br><span class="line">    private String name;</span><br><span class="line">   //setter和getter方法</span><br></pre></td></tr></tbody></table></figure></div>
<p>第二步，新建add.jsp页面（注意<code>action="pojoType"</code>，这是表单提交后交由哪个Servlet去处理的，也就是后面controller中方法的访问路径，当然一般路径和名称是一致的，因此也就是后面的方法名称）：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><%@ page contentType="text/html;charset=UTF-8" language="java" %></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <title>add</title></span><br><span class="line">    <link href="css/bootstrap.min.css" rel="stylesheet"></span><br><span class="line">    <style type="text/css"></span><br><span class="line">        body{</span><br><span class="line">            overflow-x:hidden;</span><br><span class="line">        }</span><br><span class="line">        #main{</span><br><span class="line">            width:1200px;</span><br><span class="line">            height:600px;</span><br><span class="line">            margin-left:500px;</span><br><span class="line">        }</span><br><span class="line">    </style></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><div id="main"><br><span class="line">    <!-- 标题 --></span><br><span class="line">    <div class="row"><br><span class="line">        <div class="col-md-12"><br><span class="line">            <h1>添加课程</h1></span><br><span class="line">        </span></div></span><br><span class="line">    </span></div></span><br><span class="line"></span><br><span class="line">    <form class="form-horizontal" role="form" action="pojoType" method="post"><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程编号</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="id" placeholder="请输入课程编号"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程名称</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="name" placeholder="请输入课程名称"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程价格</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="price" placeholder="请输入课程价格"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">讲师编号</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="author.id" placeholder="请输入讲师编号"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">讲师姓名</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="author.name" placeholder="请输入讲师姓名"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <div class="col-sm-offset-1 col-sm-3"><br><span class="line">                <button type="submit" class="btn btn-default">提交</button></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">    </span></form><br><span class="line"></span></span></div></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>
<p>第三步，在dao包中新建CourseDao.java类，这个类用于保存用户提交的信息，类似于数据库的作用：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">package com.envy.dao;</span><br><span class="line"></span><br><span class="line">import com.envy.entity.Course;</span><br><span class="line">import org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line">import java.util.Collection;</span><br><span class="line">import java.util.HashMap;</span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">@Repository</span><br><span class="line">public class CourseDao {</span><br><span class="line">    //使用Map来替代数据库</span><br><span class="line">    private Map<integer, course> courses = new HashMap<>();</integer,></span><br><span class="line"></span><br><span class="line">    //将pojoType方法中传递的model保存到map中</span><br><span class="line">    public void add(Course course){</span><br><span class="line">        courses.put(course.getId(), course);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    //将map中所有的信息进行返回</span><br><span class="line">    public Collection<course> getAll(){</course></span><br><span class="line">        return courses.values();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>第四步，新建index.jsp页面，用于展示所添加的信息（注意只要后面所有方法中返回的ModelAndView中添加的对象名称是courses，那么本页面可作为公共页面使用）：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><%@ page contentType="text/html;charset=UTF-8" language="java" %></span><br><span class="line"><%@ page isELIgnored="false" %></span><br><span class="line"><%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <title>课程列表</title></span><br><span class="line">    <link href="css/bootstrap.min.css" rel="stylesheet"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><div class="container"><br><span class="line"></span><br><span class="line">    <!-- 标题 --></span><br><span class="line">    <div class="row"><br><span class="line">        <div class="col-md-12"><br><span class="line">            <h1>课程管理</h1></span><br><span class="line">        </span></div></span><br><span class="line">    </span></div></span><br><span class="line">    <!-- 显示表格数据 --></span><br><span class="line">    <div class="row"><br><span class="line">        <div class="col-md-12"><br><span class="line">            <br><span class="line">                </span><br><span class="line">                </span><br><span class="line">                    </span><br><span class="line">                    </span><br><span class="line">                    </span><br><span class="line">                    </span><br><span class="line">                    </span><br><span class="line">                    </span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">                <c:foreach items="${courses}" var="course"></c:foreach></span><br><span class="line">                    </span><br><span class="line">                        </span><br><span class="line">                        </span><br><span class="line">                        </span><br><span class="line">                        </span><br><span class="line">                        </span><br><span class="line">                        </span><br><span class="line">                    </span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">            </span><table class="table table-hover" id="emps_table"><thead><tr><th><br><span class="line">                        <input type="checkbox" id="check_all"></span><br><span class="line">                    </span></th><th>编号</th><th>课程名</th><th>价格</th><th>讲师</th><th>操作</th></tr></thead><tbody><tr><td><input type="checkbox" class="check_item"></td><td>${course.id}</td><td>${course.name}</td><td>${course.price}</td><td>${course.author.name}</td><td><br><span class="line">                            <button class="btn btn-primary btn-sm edit_btn"><br><span class="line">                                <span class="glyphicon glyphicon-pencil">编辑</span></span><br><span class="line">                            </span></button>  </span><br><span class="line">                            <button class="btn btn-danger btn-sm delete_btn"><br><span class="line">                                <span class="glyphicon glyphicon-trash">删除</span></span><br><span class="line">                            </span></button></span><br><span class="line">                        </span></td></tr></tbody></table></span><br><span class="line">        </span></div></span><br><span class="line">    </span></div></span><br><span class="line"></span><br><span class="line"></span></div></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>
<p>第五步，新建<code>pojoType</code>方法：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//对象,以课程和讲师为例</span><br><span class="line"> @RequestMapping(value = "/pojoType")</span><br><span class="line"> public ModelAndView pojoType(Course course){</span><br><span class="line">     //保存前端页面提交信息</span><br><span class="line">     courseDao.add(course);</span><br><span class="line">     //装载模型数据和视图解析</span><br><span class="line">     ModelAndView modelAndView = new ModelAndView();</span><br><span class="line">     //添加模型数据</span><br><span class="line">     modelAndView.addObject("courses", courseDao.getAll());</span><br><span class="line">     //设置视图名称</span><br><span class="line">     modelAndView.setViewName("index");</span><br><span class="line">     return modelAndView;</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure></div>
<p>SpringMVC可以将表单的字段与Controller方法参数中<strong>对象的属性</strong>进行映射，前提是两者的名称和类型一致。比如表单中传入<code>name=ssm&price=100</code>，方法参数中的Course对象也恰好有<code>String name</code>与<code>double price</code>属性，SpringMVC将完成字段 –> 对象属性的映射并将数据绑定到Cours对象的对应属性上。SpringMVC将我们输入字段的类型、名称与方法参数中User对象中的属性一一对比，如果吻合将会自动映射过去并封装成对象，如果某些字段和对象的属性不能匹配，那么封装成的对象中该属性为null。</p>
<p>然后运行项目，在浏览器地址栏中输入<code>http://localhost:8080/add.jsp</code>，填写课程信息后提交发现url变为<code>http://localhost:8080/pojoType</code>，同时将你刚才添加的课程信息进行了展示。</p>
<h3 id="List"><a href="#List" class="headerlink" title="List"></a>List</h3><p>List类型，注意Controller中的方法内不能直接传参数<code>List<course> courses</course></code>，因为它无法完成绑定（只能绑定单一类），只能借助于包装类，在包装类中定义List集合的属性，然后给这个包装类的属性进行绑定。</p>
<p>第一步，新建CourseList类，并将<code>List<course> courses</course></code>设置为它的属性：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package com.envy.entity;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class CourseList {</span><br><span class="line">    private List<course> courses;  //属性名称</course></span><br><span class="line"></span><br><span class="line">    public List<course> getCourses() {</course></span><br><span class="line">        return courses;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setCourses(List<course> courses) {</course></span><br><span class="line">        this.courses = courses;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>第二步，新建addList.jsp页面（注意表单中的字段应如何设置，前面说过是字段与其属性进行关联，我们给CourseList类设置的属性为courses，它是一个List，但是我们可以通过下标来完成对象的获取，第一个为<code>courses[0]</code>，依次类推。对于课程讲师的属性设置需要使用<code>courses[0].author</code>来获取）：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><%@ page contentType="text/html;charset=UTF-8" language="java" %></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <title>add</title></span><br><span class="line">    <link href="css/bootstrap.min.css" rel="stylesheet"></span><br><span class="line">    <style type="text/css"></span><br><span class="line">        body{</span><br><span class="line">            overflow-x:hidden;</span><br><span class="line">        }</span><br><span class="line">        #main{</span><br><span class="line">            width:1200px;</span><br><span class="line">            height:600px;</span><br><span class="line">            margin-left:500px;</span><br><span class="line">        }</span><br><span class="line">    </style></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><div id="main"><br><span class="line">    <!-- 标题 --></span><br><span class="line">    <div class="row"><br><span class="line">        <div class="col-md-12"><br><span class="line">            <h1>添加课程</h1></span><br><span class="line">        </span></div></span><br><span class="line">    </span></div></span><br><span class="line"></span><br><span class="line">    <form class="form-horizontal" role="form" action="listType" method="post"><br><span class="line">        <!--第一个课程--></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程1编号</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[0].id" placeholder="请输入课程1编号"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程1名称</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[0].name" placeholder="请输入课程1名称"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程1价格</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[0].price" placeholder="请输入课程1价格"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">讲师编号</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[0].author.id" placeholder="请输入讲师1编号"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">讲师姓名</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[0].author.name" placeholder="请输入讲师1姓名"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line"></span><br><span class="line">        <!--第二个课程--></span><br><span class="line"></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程2编号</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[1].id" placeholder="请输入课程2编号"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程2名称</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[1].name" placeholder="请输入课程2名称"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">课程2价格</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[1].price" placeholder="请输入课程2价格"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">讲师编号</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[1].author.id" placeholder="请输入讲师2编号"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">        <div class="form-group"><br><span class="line">            <label class="col-sm-1 control-label">讲师姓名</label></span><br><span class="line">            <div class="col-sm-3"><br><span class="line">                <input type="text" class="form-control" name="courses[1].author.name" placeholder="请输入讲师2姓名"></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <div class="form-group"><br><span class="line">            <div class="col-sm-offset-1 col-sm-3"><br><span class="line">                <button type="submit" class="btn btn-default">提交</button></span><br><span class="line">            </span></div></span><br><span class="line">        </span></div></span><br><span class="line">    </span></form><br><span class="line"></span></span></div></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>
<p>第三步，新建<code>listType</code>方法（注意后面遍历的是courseList中的属性即List对象，不是courseList本身）：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(value = "/listType")</span><br><span class="line">    public ModelAndView listType(CourseList courseList){</span><br><span class="line">        //注意这里遍历的是courseList中的属性即List对象，不是courseList本身</span><br><span class="line">        for(Course course:courseList.getCourses()){</span><br><span class="line">            //保存前端页面提交信息</span><br><span class="line">            courseDao.add(course);</span><br><span class="line">        }</span><br><span class="line">        //装载模型数据和视图解析</span><br><span class="line">        ModelAndView modelAndView = new ModelAndView();</span><br><span class="line">        //添加模型数据</span><br><span class="line">        modelAndView.addObject("courses", courseDao.getAll());</span><br><span class="line">        //设置视图名称</span><br><span class="line">        modelAndView.setViewName("index");</span><br><span class="line">        return modelAndView;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure></div>
<p>然后运行项目，在浏览器地址栏中输入<code>http://localhost:8080/addList.jsp</code>，填写课程信息后提交发现url变为<code>http://localhost:8080/listType</code>，同时将你刚才添加的课程信息进行了展示。</p>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>Map类型，注意Controller中的方法内不能直接传参数<code>Map<string,course> courseMap</string,course></code>，因为它无法完成绑定（只能绑定单一类），只能借助于包装类，在包装类中定义Map集合的属性，然后给这个包装类的属性进行绑定。</p>
<p>第一步，新建CourseMap类，并将<code>Map<string,course> courseMap</string,course></code>设置为它的属性：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package com.envy.entity;</span><br><span class="line"></span><br><span class="line">import java.util.Map;</span><br><span class="line"></span><br><span class="line">public class CourseMap {</span><br><span class="line">    private Map<string,course> courseMap; //属性名称</string,course></span><br><span class="line"></span><br><span class="line">    public Map<string, course> getCourseMap() {</string,></span><br><span class="line">        return courseMap;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setCourseMap(Map<string, course> courseMap) {</string,></span><br><span class="line">        this.courseMap = courseMap;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>第二步，新建addMap.jsp页面，这个页面和addList.jsp页面非常相似，只有对象获取的方式不同。对于List对象可以通过下标来完成对象的获取，第一个为courses[0]，但是对于Map对象不能使用该方法，可以<code>courseMap['one']</code>，<code>courseMap['two']</code>等方式。</p>
<p>第三步，新建<code>mapType</code>方法（注意后面遍历的是courseMap中的属性即Map对象，不是courseMap本身）：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(value = "/mapType")</span><br><span class="line">    public ModelAndView mapType(CourseMap courseMap){</span><br><span class="line">        //注意这里遍历的是courseMap中的属性即Map对象，不是courseMap本身</span><br><span class="line">        for(String key:courseMap.getCourseMap().keySet()){</span><br><span class="line">            Course course = courseMap.getCourseMap().get(key);</span><br><span class="line">            courseDao.add(course);</span><br><span class="line">        }</span><br><span class="line">        //装载模型数据和视图解析</span><br><span class="line">        ModelAndView modelAndView = new ModelAndView();</span><br><span class="line">        //添加模型数据</span><br><span class="line">        modelAndView.addObject("courses", courseDao.getAll());</span><br><span class="line">        //设置视图名称</span><br><span class="line">        modelAndView.setViewName("index");</span><br><span class="line">        return modelAndView;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure></div>
<p>然后运行项目，在浏览器地址栏中输入<code>http://localhost:8080/addMap.jsp</code>，填写课程信息后提交发现url变为<code>http://localhost:8080/mapType</code>，同时将你刚才添加的课程信息进行了展示。</p>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>Set类型，注意Controller中的方法内不能直接传参数<code>Set<course> courseSet</course></code>，因为它无法完成绑定（只能绑定单一类），只能借助于包装类，在包装类中定义Set集合的属性，然后给这个包装类的属性进行绑定。</p>
<p>第一步，新建courseSet类，并将<code>Set<course> courseSet</course></code>设置为它的属性，同时注意SpringMVC绑定set时必须初始化set且必须有两个对象，如果没有则报500错误。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">package com.envy.entity;</span><br><span class="line"></span><br><span class="line">import java.util.HashSet;</span><br><span class="line">import java.util.Set;</span><br><span class="line"></span><br><span class="line">public class CourseSet {</span><br><span class="line">    private Set<course> courseSet = new HashSet<>(); //属性名称</course></span><br><span class="line"></span><br><span class="line">    public Set<course> getCourseSet() {</course></span><br><span class="line">        return courseSet;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setCourseSet(Set<course> courseSet) {</course></span><br><span class="line">        this.courseSet = courseSet;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    //注意set中必须有两个对象，否则无法完成绑定</span><br><span class="line">    public CourseSet(){</span><br><span class="line">        courseSet.add(new Course());</span><br><span class="line">        courseSet.add(new Course());</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>第二步，新建addSet.jsp页面，这个页面和addList.jsp页面非常相似，对象获取的方式也是通过下标来完成对象的获取，第一个为courseSet[0]，以此类推。</p>
<p>第三步，新建<code>setType</code>方法（注意后面遍历的是courseSet中的属性即Set对象，不是courseSet本身）：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(value = "/setType")</span><br><span class="line">public ModelAndView setType(CourseSet courseSet){</span><br><span class="line">    //注意这里遍历的是courseSet中的属性即Set对象，不是courseSet本身</span><br><span class="line">    for(Course course:courseSet.getCourseSet()){</span><br><span class="line">        courseDao.add(course);</span><br><span class="line">    }</span><br><span class="line">    //装载模型数据和视图解析</span><br><span class="line">    ModelAndView modelAndView = new ModelAndView();</span><br><span class="line">    //添加模型数据</span><br><span class="line">    modelAndView.addObject("courses", courseDao.getAll());</span><br><span class="line">    //设置视图名称</span><br><span class="line">    modelAndView.setViewName("index");</span><br><span class="line">    return modelAndView;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>然后运行项目，在浏览器地址栏中输入<code>http://localhost:8080/addSet.jsp</code>，填写课程信息后提交发现url变为<code>http://localhost:8080/setType</code>，同时将你刚才添加的课程信息进行了展示。</p>
<h3 id="JSON格式"><a href="#JSON格式" class="headerlink" title="JSON格式"></a>JSON格式</h3><p>JSON格式，注意方法此时不需要通过视图解析，直接返回Json格式。SpringMVC无法完成json数据类型的绑定，但是可以借助于<code>jackson-bind</code>完成绑定。需要两个步骤：第一步，先导入<code>jackson-bind</code>的Maven依赖：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><!--添加jackson用于完成SpringMVC数据绑定json--></span><br><span class="line">  <dependency></dependency></span><br><span class="line">      <groupid>com.fasterxml.jackson.core</groupid></span><br><span class="line">      <artifactid>jackson-databind</artifactid></span><br><span class="line">      <version>2.9.5</version></span><br><span class="line">  </span><br></pre></td></tr></tbody></table></figure></div>
<p>第二步，在springmvc.xml中配置消息转换器，只有这两步才能将<strong>http请求参数转换成jso格式</strong>：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><!--配置json转换器--></span><br><span class="line"><mvc:annotation-driven></mvc:annotation-driven></span><br><span class="line">    <mvc:message-converters></mvc:message-converters></span><br><span class="line">        <bean class="org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"></bean></span><br><span class="line">    </span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>
<p>接着通过一个json.jsp页面来模仿数据交互(使用ajax通过post方式发送数据)：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><%@ page contentType="text/html;charset=UTF-8" language="java" %></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <title>json类型数据绑定</title></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><script type="text/javascript" src="js/jquery-1.8.3.min.js"></script></span><br><span class="line"><script type="text/javascript"></span><br><span class="line">    $(function () {</span><br><span class="line">        var course = {</span><br><span class="line">            id: "2",</span><br><span class="line">            name: "SpringMVC数据绑定",</span><br><span class="line">            price: "188"</span><br><span class="line">        };</span><br><span class="line">        $.ajax({</span><br><span class="line">            url:"jsonType",</span><br><span class="line">            data:JSON.stringify(course),</span><br><span class="line">            type:"post",</span><br><span class="line">            contentType: "application/json;charset=UTF-8",</span><br><span class="line">            dataType:"json",</span><br><span class="line">            success:function (data) {</span><br><span class="line">                alert(data.name+"-----"+data.price)</span><br><span class="line">            }</span><br><span class="line">        })</span><br><span class="line">    })</span><br><span class="line"></script></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>
<p>最后新建<code>jsonType</code>方法（这个方法仅仅对ajax发送过来的数据中的价格进行了加100操作，然后又以json形式进行了返回，注意需要使用<code>@RequestBody</code>这个注解用来接收前端传递给后端的json字符串中的数据(即请求体中的数据);）：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//JSON，注意此时不需要通过视图解析，直接返回JSOn格式</span><br><span class="line">//需要使用@RequestBody这个注解,这个注解主要用来接收前端传递给后端的json字符串中的数据(请求体中的数据);</span><br><span class="line">@RequestMapping(value = "/jsonType")</span><br><span class="line">@ResponseBody</span><br><span class="line">public Course jsonType(@RequestBody Course course){</span><br><span class="line">    course.setPrice(course.getPrice()+100);</span><br><span class="line">    return course;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>
<p>然后运行项目，在浏览器地址栏中输入<code>http://localhost:8080/json.jsp</code>，回车后立即发现url变为<code>http://localhost:8080/jsonType</code>，同时将价格进行加100操作后，弹出显示了288。</p>
<p>那么关于SpringMVC中的数据绑定就先介绍到这里，后续会退出一篇更完整的，同时也是基于<code>Restlet Client</code>，那样的话就不再出现jsp页面，可能效果会更好一些。</p>
</body></html></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">余思</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://envyzhan.top/2018/04/20/2018-springmvc-2-data-bind/">http://envyzhan.top/2018/04/20/2018-springmvc-2-data-bind/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://envyzhan.top">余思博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/springmvc/">springmvc    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2018/04/21/2018-springmvc-3-restful/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>springmvc:RESTful入门</span></div></a></div><div class="next-post pull_right"><a href="/2018/04/18/2018-springmvc-1-quick/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>springmvc:SpringMVC入门</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2018/04/22/2018-springmvc-4-interceptors/" title="springmvc:SpringMVC拦截器"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-03-01</div><div class="relatedPosts_title">springmvc:SpringMVC拦截器</div></div></a></div><div class="relatedPosts_item"><a href="/2018/04/21/2018-springmvc-3-restful/" title="springmvc:RESTful入门"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-03-01</div><div class="relatedPosts_title">springmvc:RESTful入门</div></div></a></div><div class="relatedPosts_item"><a href="/2018/04/18/2018-springmvc-1-quick/" title="springmvc:SpringMVC入门"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-03-01</div><div class="relatedPosts_title">springmvc:SpringMVC入门</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '9996b44b488f2fc52124',
  clientSecret: '6bec0f8e9c032eeae6211a5d4cffa3c97e2d4a64',
  repo: 'blogcomment',
  owner: 'Envythink',
  admin: 'Envythink',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN',
  updateCountCallback: commentCount
})
gitalk.render('gitalk-container')

function commentCount(n){
  document.getElementsByClassName('gitalk-comment-count')[0].innerHTML= n
}</script></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">Copyright &copy;2017-2021 余思博客, 版权所有</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">簡</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/fireworks.js"></script><script src="/js/tw_cn.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>